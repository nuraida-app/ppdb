import{Q as N,S as j,M as k,a3 as v,r as i,B as x,j as t}from"./index-E7E3HHSK.js";import{L}from"./Layout-tmITzfKy.js";import{N as C}from"./NotAllowed-B9Dyos-N.js";const b=[{label:"NPSN",type:"text"},{label:"Nama Sekolah",type:"text"},{label:"Provinsi",type:"text"},{label:"Kota",type:"text"},{label:"Kecamatan",type:"text"},{label:"Desa",type:"text"}],F=()=>{const{user:a}=N(e=>e.user),{data:o}=j(a==null?void 0:a.id,{skip:!(a!=null&&a.id)}),{data:n}=k(a==null?void 0:a.id,{skip:!(a!=null&&a.id)}),s=n==null?void 0:n.school,[h,{data:c,isSuccess:p,isLoading:w,error:r,reset:m}]=v(),[d,u]=i.useState(b.reduce((e,l)=>(e[l.label.replace(/\s+/g,"_").toLowerCase()]="",e),{})),f=e=>{const{name:l,value:g}=e.target;u(S=>({...S,[l]:g}))},y=e=>{e.preventDefault(),h(d)};return i.useEffect(()=>{p&&(x.success(c.message),m()),r&&(x.error(r.data.message),m())},[c,p,r]),i.useEffect(()=>{s&&u({npsn:s.npsn||"",nama_sekolah:s.nama||"",provinsi:s.provinsi||"",kota:s.kota||"",kecamatan:s.kecamatan||"",desa:s.desa||""})},[s]),t.jsxs(L,{children:[t.jsx("h5",{className:"py-2 border-bottom",children:"Data Sekolah Sebelumnya"}),o!=null&&o.ket?t.jsxs("form",{onSubmit:y,className:"d-flex flex-column gap-2",children:[b.map((e,l)=>t.jsxs("div",{className:"input-group",children:[t.jsx("span",{style:{width:130},className:"input-group-text",id:"inputGroup-sizing-default",children:e.label}),t.jsx("input",{name:e.label.replace(/\s+/g,"_").toLowerCase(),type:e.type,className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",value:d[e.label.replace(/\s+/g,"_").toLowerCase()],onChange:f,required:!0})]},l)),t.jsx("div",{className:"text-end",children:t.jsx("button",{type:"submit",className:"btn btn-primary",children:"Simpan"})})]}):t.jsx(C,{})]})};export{F as default};

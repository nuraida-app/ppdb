import{I as v,r as a,J as C,K as S,B as m,j as e}from"./index-E7E3HHSK.js";import{L}from"./Layout-tmITzfKy.js";import{T as P}from"./TableContainer-B0qFCEFe.js";const T=[{label:"No"},{label:"Kode"},{label:"Kode User"},{label:"Nama"},{label:"Whatsapp"},{label:"Aksi"}],A=()=>{const h=v(),b="Diproses",x="Diterima",u="Ditolak",[n,j]=a.useState(1),[l,p]=a.useState(10),[f,g]=a.useState(""),{data:N={}}=C({status:b,page:n,limit:l,search:f}),{users:k=[],totalPages:_}=N,[y,{data:i,isSuccess:o,isLoading:$,error:c,reset:r}]=S(),w=t=>h(`/admin-pendaftar/${t}`),d=(t,s)=>{y({id:t,status:s})};return a.useEffect(()=>{o&&(m.success(i.message),r()),c&&(m.error(c.data.message),r())},[i,o,c]),e.jsx(L,{children:e.jsxs("div",{className:"container-fluid",children:[e.jsx("div",{className:"container d-flex align-items-center justify-content-between mb-3",children:e.jsx("p",{className:"m-0 fw-bold",children:"Pendaftar"})}),e.jsx(P,{page:n,totalPages:_,setPage:t=>j(t),setLimit:t=>p(t),onValue:t=>g(t),children:e.jsxs("table",{className:"table table-striped table-hover mt-2",children:[e.jsx("thead",{children:e.jsx("tr",{children:T.map((t,s)=>e.jsx("th",{scope:"col",className:"text-center",children:t.label},s))})}),e.jsx("tbody",{children:k.map((t,s)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:(n-1)*l+s+1}),e.jsx("td",{children:t.kode_pendaftaran}),e.jsx("td",{children:t.userid}),e.jsx("td",{className:"text-start",children:t.nama}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex flex-column gap-1 align-items-center justify-content-center",children:[e.jsx("button",{className:"btn btn-success",onClick:()=>window.open(`https://wa.me/${t.ayah_no_tlp}`,"_blank"),children:`Ayah: ${t.ayah_no_tlp}`}),e.jsx("button",{className:"btn btn-success",onClick:()=>window.open(`https://wa.me/${t.ibu_no_tlp}`,"_blank"),children:`Ibu: ${t.ibu_no_tlp}`})]})}),e.jsx("td",{children:e.jsxs("div",{className:"d-flex align-items-center justify-content-center gap-2",children:[e.jsx("button",{className:"btn btn-primary",onClick:()=>d(t.userid,x),children:"Terima"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>d(t.userid,u),children:"Tolak"}),e.jsx("button",{className:"btn btn-info",onClick:()=>w(t.userid),children:"Detail"})]})})]},t.id))})]})})]})})};export{A as default};

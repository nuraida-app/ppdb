import{b8 as A,b9 as P,r as t,B as x,j as e,P as j,T as m,d as b,e as v,C as L,ba as E,bb as N,G as g,s as k}from"./index-C2nBX7QG.js";import{L as C}from"./Layout-C20c01LT.js";const w=()=>{const{data:s}=A(),[c,{data:d,isSuccess:i,isLoading:f,error:l,reset:a}]=P(),[u,o]=t.useState(""),[p,r]=t.useState(""),[h,y]=t.useState(""),S=n=>{n.preventDefault(),c({name:u,email:p,password:h})};return t.useEffect(()=>{s&&(o(s==null?void 0:s.name),r(s==null?void 0:s.email))},[s]),t.useEffect(()=>{i&&(x.success(d.message),o(""),r(""),a()),l&&(x.error(l.data.message),a())},[d,i,l]),e.jsx(j,{sx:{px:1,py:2},children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"1rem"},onSubmit:S,children:[e.jsx(m,{label:"Nama",type:"text",slotProps:{inputLabel:{shrink:!0}},value:u||"",onChange:n=>o(n.target.value)}),e.jsx(m,{label:"Email",type:"email",slotProps:{inputLabel:{shrink:!0}},value:p||"",onChange:n=>r(n.target.value)}),e.jsx(m,{label:"Password Lama",type:"password",slotProps:{inputLabel:{shrink:!0}},value:h||"",onChange:n=>y(n.target.value)}),e.jsx(b,{align:"end",children:e.jsx(v,{variant:"contained",color:"success",type:"submit",children:f?e.jsx(L,{size:24}):" Simpan"})})]})})},B=()=>{const[s,{data:c,isLoading:d,error:i,isSuccess:f,reset:l}]=E(),{data:a}=N(),[u,o]=t.useState(""),p=r=>{r.preventDefault(),s({name:u})};return t.useEffect(()=>{f&&(x.success(c.message),l()),i&&(x.error(i.data.message),l())},[c,d,i]),t.useEffect(()=>{a&&o(a==null?void 0:a.nama)},[a]),e.jsx(C,{children:e.jsxs(g,{container:!0,children:[e.jsx(g,{item:!0,size:{xs:12,md:6},sx:{px:1},children:e.jsxs(j,{sx:{p:1,display:"flex",gap:2,flexDirection:"column"},children:[e.jsx(k,{variant:"h6",fontWeight:"bold",children:"Pengaturan"}),e.jsxs("form",{onSubmit:p,children:[e.jsx(m,{label:"Nama Aplikasi",placeholder:"Nama Aplikasi",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},value:u||"",onChange:r=>o(r.target.value)}),e.jsx(b,{align:"end",sx:{mt:1},children:e.jsx(v,{variant:"contained",color:"success",children:"Simpan"})})]})]})}),e.jsx(g,{item:!0,size:{xs:12,md:6},sx:{px:1},children:e.jsx(w,{})})]})})};export{B as default};

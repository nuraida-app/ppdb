import{r as a,ad as v,aH as z,aI as B,aJ as G,B as t,j as e,G as u,P as T,X as x,q as y,$ as w,D,aK as J}from"./index-CE7iUa9f.js";import{L as M}from"./Layout-BY6h5q2W.js";import{d as P}from"./Add-DZLHi6Cx.js";import{d as _}from"./EditOutlined-CqL6a_Q_.js";import{d as $}from"./DoNotDisturbOnOutlined-Xt-D0X5P.js";import{T as A}from"./TableContainer-BacHngwT.js";import{T as N}from"./Table-BDQ3_E0m.js";import{T as Q}from"./TableHead-CvJE00ii.js";import{T as C,a as i,b as R}from"./TableRow-BZTrN_G5.js";import"./WhatsApp-CncVOoah.js";const se=()=>{const[r,m]=a.useState(""),[f,n]=a.useState(""),{data:o}=v(),{data:d}=z(r,{skip:!r}),[H,{data:p,isSuccess:j,isLoading:I,error:l,reset:h}]=B(),[S,{data:g,isSuccess:b,isLoading:q,error:c}]=G(),L=s=>{s.preventDefault(),H({name:f,id:r||null})},k=s=>{S(s)};return a.useEffect(()=>{j&&(t.success(p.message),n(""),m(""),h()),l&&(t.error(l.data.message),h())},[p,l,j]),a.useEffect(()=>{b&&t.success(g.message),c&&t.error(c.data.message)},[g,c,b]),a.useEffect(()=>{d&&n(d.nama)},[d]),e.jsx(M,{children:e.jsxs(u,{container:!0,children:[e.jsx(u,{item:!0,size:{xs:12,md:8},children:e.jsx(T,{children:e.jsx(A,{children:e.jsxs(N,{children:[e.jsx(Q,{children:e.jsx(C,{children:["No","Jenjang","Aksi"].map(s=>e.jsx(i,{align:"center",children:s},s))})}),e.jsx(R,{children:o==null?void 0:o.map((s,E)=>e.jsxs(C,{children:[e.jsx(i,{align:"center",children:E+1}),e.jsx(i,{align:"center",children:s.nama}),e.jsxs(i,{align:"center",children:[e.jsx(x,{color:"warning",onClick:()=>m(s.id),children:e.jsx(_,{})}),e.jsx(x,{color:"error",onClick:()=>k(s.id),children:e.jsx($,{})})]})]},s.id))})]})})})}),e.jsx(u,{item:!0,size:{xs:12,md:4},sx:{py:1,px:4},children:e.jsx(T,{sx:{p:1,position:"fixed",width:{md:300,lg:400,xl:400}},children:e.jsx("form",{onSubmit:L,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[e.jsx(w,{fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:f||"",onChange:s=>n(s.target.value)}),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(x,{type:"submit",children:e.jsx(P,{})}),I&&e.jsx(D,{size:45,sx:{color:J[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{se as default};

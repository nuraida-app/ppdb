import{r as n,c as M,d as k,e as C,f as E,B as h,j as e}from"./index-BU72W7iL.js";import{I as S}from"./index-5OSzw95J.js";import{L as Y}from"./Layout-BH6RVc04.js";import{M as w}from"./ModalComponent-DmMY5IEY.js";const L=()=>{const[o,r]=n.useState(""),[s,d]=n.useState(""),{data:l}=M(),[j,{data:p,isSuccess:x,error:b,reset:f}]=k(),[g,{data:i,isSuccess:m,error:c,reset:u}]=C(),{data:t}=E(s,{skip:!s}),y=()=>{j({id:s||null,name:o})},N=a=>{g(a)},T=()=>{r(""),d("")};return n.useEffect(()=>{t&&(r(t.tapel),d(t.id))},[t]),n.useEffect(()=>{m&&(h.success(i.message),u()),c&&(h.error(c.data.message),u())},[i,m,c]),e.jsxs(Y,{children:[e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"container d-flex align-items-center justify-content-between mb-3",children:[e.jsx("p",{className:"m-0 fw-bold",children:"Tahun Pelajaran"}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#tapel",children:[e.jsx(S,{})," Tambah"]})})]}),e.jsxs("table",{className:"table table-striped table-hover mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"Tahun ajar"}),e.jsx("th",{scope:"col",children:"Last"})]})}),e.jsx("tbody",{children:l==null?void 0:l.map((a,v)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:v+1}),e.jsx("td",{style:{textAlign:"start"},children:a.tapel}),e.jsxs("td",{className:"d-flex justify-content-center gap-2",children:[e.jsx("button",{"data-bs-toggle":"modal","data-bs-target":"#tapel",className:"btn btn-warning",onClick:()=>d(a.id),children:"Edit"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>N(a.id),children:"Hapus"})]})]},a.id))})]})]}),e.jsxs(w,{id:"tapel",title:" Tambah Tahun Pelajaran",data:p,isSuccess:x,error:b,reset:f,children:[e.jsx("div",{className:"modal-body",children:e.jsx("input",{type:"text",className:"form-control",id:"namaTahunAjar",placeholder:"Masukan Tahun ajar",value:o,onChange:a=>r(a.target.value)})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:T,children:"Tutup"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:y,children:"Simpan"})]})]})]})};export{L as default};

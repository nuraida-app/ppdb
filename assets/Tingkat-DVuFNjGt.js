import{r as s,g as H,h as I,i as J,k as G,B as j,j as e}from"./index-BU72W7iL.js";import{I as R}from"./index-5OSzw95J.js";import{L as B}from"./Layout-BH6RVc04.js";import{M as D}from"./ModalComponent-DmMY5IEY.js";import{T as Q}from"./TableContainer-DJzRKzDr.js";const W=()=>{const[a,p]=s.useState(1),[d,f]=s.useState(10),[i,o]=s.useState(null),[u,c]=s.useState(""),[h,v]=s.useState(""),[g,{data:N={}}]=H(),{levels:y=[],totalPages:L=1}=N,{data:n}=I(i,{skip:!i}),[k,{data:S,isSuccess:r,isLoading:V,error:M,reset:C}]=J(),[E,{data:x,isSuccess:l,isLoading:q,error:m,reset:b}]=G(),T=()=>{k({id:i,name:u})},A=t=>{E(t)},P=()=>{o(null),c("")};return s.useEffect(()=>{l&&(j.success(x.message),b()),m&&(j.error(m.data.message),b())},[l,x,m]),s.useEffect(()=>{n&&(c(n.nama),o(n.id))},[n]),s.useEffect(()=>{(r||l)&&g({page:a,limit:d})},[r,l]),s.useEffect(()=>{g({page:a,limit:d,search:h})},[a,d,h]),e.jsxs(B,{title:"Admin - Jenjang",children:[e.jsxs("div",{className:"container-fluid",children:[e.jsxs("div",{className:"container d-flex align-items-center justify-content-between mb-3",children:[e.jsx("p",{className:"m-0 fw-bold",children:"Jenjang Pendidikan"}),e.jsx("div",{className:"d-flex gap-2",children:e.jsxs("button",{type:"button",className:"btn btn-primary","data-bs-toggle":"modal","data-bs-target":"#tingkat",children:[e.jsx(R,{})," Tambah"]})})]}),e.jsx(Q,{page:a,totalPages:L,setPage:t=>p(t),setLimit:t=>f(t),onValue:t=>v(t),children:e.jsxs("table",{className:"table table-striped table-hover mt-2",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",children:"#"}),e.jsx("th",{scope:"col",children:"Nama"}),e.jsx("th",{scope:"col",children:"Aksi"})]})}),e.jsx("tbody",{children:y.map((t,w)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:w+1}),e.jsx("td",{style:{textAlign:"start"},children:t.nama}),e.jsxs("td",{className:"d-flex align-items-center justify-content-center gap-2",children:[e.jsx("button",{className:"btn btn-warning","data-bs-toggle":"modal","data-bs-target":"#tingkat",onClick:()=>o(t.id),children:"Edit"}),e.jsx("button",{className:"btn btn-danger",onClick:()=>A(t.id),children:"Hapus"})]})]},t.id))})]})})]}),e.jsxs(D,{id:"tingkat",title:"Tambah Jenjang",data:S,isSuccess:r,error:M,reset:C,children:[e.jsx("div",{className:"modal-body",children:e.jsx("input",{type:"text",className:"form-control",id:"namaTingkat",placeholder:"Contoh: SMP / SMA",value:u||"",onChange:t=>c(t.target.value)})}),e.jsxs("div",{className:"modal-footer",children:[e.jsx("button",{type:"button",className:"btn btn-secondary","data-bs-dismiss":"modal",onClick:P,children:"Tutup"}),e.jsx("button",{type:"button",className:"btn btn-primary",onClick:()=>T(),children:"Simpan"})]})]})]})};export{W as default};

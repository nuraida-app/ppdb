import{r,a3 as G,bC as O,bD as W,bE as F,B as n,j as e,G as p,P as Q,X as S,D as k,F as E,I as L,S as I,M as a,T as H,t as z}from"./index-Bi5ISG4_.js";import{L as K}from"./Layout-DiFwH0bA.js";import{d as R}from"./EditOutlined-DMp34MuU.js";import{d as _}from"./DoNotDisturbOnOutlined-DMD4iD1G.js";import{T as X}from"./TableContainer-DT-5s-Yw.js";import{T as $}from"./Table-DNGmJGf1.js";import{T as N}from"./TableHead-CFg8ioG4.js";import{T as M,a as t,b as U}from"./TableRow-DiUi1Hq1.js";import"./WhatsApp-BMMQCJ2C.js";const ne=()=>{const[l,d]=r.useState(""),[m,o]=r.useState("pilih"),[g,c]=r.useState("pilih"),[f,u]=r.useState(""),{data:h}=G(),{data:i}=O(l,{skip:!l,refetchOnMountOrArgChange:!0}),[w,{data:b,isSuccess:T,isLoading:v,error:x,reset:y}]=W(),[A,{data:C,isSuccess:P,error:j,isLoading:D}]=F(),J=s=>{s.preventDefault(),w({id:l||null,type:m,question:f,input:g})},B=s=>A(s);return r.useEffect(()=>{T&&(n.success(b.message),o("pilih"),u(""),c("pilih"),d(""),y()),x&&(n.error(x.data.message),y())},[b,x,T]),r.useEffect(()=>{P&&n.success(C.message),j&&n.error(j.data.message)},[C,j,P]),r.useEffect(()=>{i&&(d(i==null?void 0:i.id),o(i==null?void 0:i.jenis),u(i==null?void 0:i.soal),c(i==null?void 0:i.pengisi))},[i]),e.jsx(K,{children:e.jsxs(p,{container:!0,children:[e.jsx(p,{item:!0,size:{xs:12,md:7},children:e.jsx(Q,{sx:{p:1,mx:1},children:e.jsx(X,{children:e.jsxs($,{children:[e.jsx(N,{children:e.jsx(M,{children:["Jenis","Pengisi","Pertanyaan","Aksi"].map(s=>e.jsx(t,{align:"center",children:s},s))})}),e.jsx(U,{children:h==null?void 0:h.map(s=>e.jsxs(M,{children:[e.jsx(t,{align:"center",style:{maxWidth:100},children:s.jenis}),e.jsx(t,{children:s.pengisi}),e.jsx(t,{children:s.soal}),e.jsxs(t,{align:"center",style:{width:150},children:[e.jsx(S,{color:"warning",onClick:()=>d(s.id),children:e.jsx(R,{})}),e.jsx(S,{color:"error",onClick:()=>B(s.id),children:D?e.jsx(k,{size:24}):e.jsx(_,{})})]})]},s.id))})]})})})}),e.jsx(p,{item:!0,size:{xs:12,md:5},children:e.jsx(Q,{sx:{p:1,mx:1,position:"fixed",width:{md:450,lg:500,xl:550}},children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"1rem"},onSubmit:J,children:[e.jsxs(E,{fullWidth:!0,children:[e.jsx(L,{children:"Jenis"}),e.jsxs(I,{value:m||"",onChange:s=>o(s.target.value),label:"Jenis",required:!0,children:[e.jsx(a,{value:"pilih",children:"--Pilih Jenis--"}),e.jsx(a,{value:"Kuisioner",children:"Kuisioner"}),e.jsx(a,{value:"Angket",children:"Angket"})]})]}),e.jsxs(E,{fullWidth:!0,children:[e.jsx(L,{children:"Pengisi"}),e.jsxs(I,{value:g||"",onChange:s=>c(s.target.value),label:"Jenis",required:!0,children:[e.jsx(a,{value:"pilih",children:"--Pilih Pengisi--"}),e.jsx(a,{value:"Ortu",children:"Orang Tua"}),e.jsx(a,{value:"Tholibah",children:"Calon Tholibah"})]})]}),e.jsx(H,{label:"Pertanyaan",placeholder:"Pertanyaan",multiline:!0,rows:6,fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},value:f||"",onChange:s=>u(s.target.value)}),e.jsx(z,{variant:"contained",color:"success",type:"submit",disabled:v,children:v?e.jsx(k,{size:24}):"simpan"})]})})})]})})};export{ne as default};

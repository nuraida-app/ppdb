import{c1 as B,c2 as G,r as a,B as b,j as e,P as D,T as v,q as A,t as f,D as K,c3 as O,ah as I,G as r,O as T}from"./index-D644vVUw.js";import{L as W}from"./Layout-RgtFD2v5.js";import"./WhatsApp-CGEBFmhS.js";const H=()=>{const{data:n}=B(),[j,{data:x,isSuccess:c,isLoading:L,error:u,reset:t}]=G(),[g,p]=a.useState(""),[l,d]=a.useState(""),[h,S]=a.useState(""),m=i=>{i.preventDefault(),j({name:g,email:l,password:h})};return a.useEffect(()=>{n&&(p(n==null?void 0:n.name),d(n==null?void 0:n.email))},[n]),a.useEffect(()=>{c&&(b.success(x.message),p(""),d(""),t()),u&&(b.error(u.data.message),t())},[x,c,u]),e.jsx(D,{sx:{px:1,py:2},children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"1rem"},onSubmit:m,children:[e.jsx(v,{label:"Nama",type:"text",slotProps:{inputLabel:{shrink:!0}},value:g||"",onChange:i=>p(i.target.value)}),e.jsx(v,{label:"Email",type:"email",slotProps:{inputLabel:{shrink:!0}},value:l||"",onChange:i=>d(i.target.value)}),e.jsx(v,{label:"Password Baru",type:"password",slotProps:{inputLabel:{shrink:!0}},value:h||"",onChange:i=>S(i.target.value)}),e.jsx(A,{align:"end",children:e.jsx(f,{variant:"contained",color:"success",type:"submit",children:L?e.jsx(K,{size:24}):" Simpan"})})]})})},M="https://dummyimage.com/700x120/000/fff.png",k="https://dummyimage.com/150x150/000/fff.png",J=()=>{const[n,{data:j,isLoading:x,error:c,isSuccess:L,reset:u}]=O(),{data:t}=I(),[g,p]=a.useState(""),[l,d]=a.useState(null),[h,S]=a.useState(null),[m,i]=a.useState(null),[w,E]=a.useState(null),[y,C]=a.useState(null),[P,N]=a.useState(null),R=o=>{o.preventDefault();const s=new FormData;s.append("name",g),l&&s.append("logo",l),m&&s.append("cap",m),y&&s.append("kop_surat",y),n(s)};a.useEffect(()=>{L&&(b.success(j.message),u()),c&&(b.error(c.data.message),u())},[j,x,c]),a.useEffect(()=>{t&&(p(t==null?void 0:t.nama),d(t==null?void 0:t.logo),i(t==null?void 0:t.cap),C(t==null?void 0:t.kop_surat))},[t]);const U=o=>{const s=o.target.files[0];d(s),S(URL.createObjectURL(s))},z=o=>{const s=o.target.files[0];i(s),E(URL.createObjectURL(s))},F=o=>{const s=o.target.files[0];C(s),N(URL.createObjectURL(s))};return e.jsx(W,{children:e.jsxs(r,{container:!0,children:[e.jsx(r,{item:!0,size:{xs:12,md:6},sx:{px:1},children:e.jsxs(D,{sx:{p:1,display:"flex",gap:2,flexDirection:"column"},children:[e.jsx(T,{variant:"h6",fontWeight:"bold",children:"Pengaturan"}),e.jsxs("form",{onSubmit:R,style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:[e.jsx(v,{label:"Nama Aplikasi",placeholder:"Nama Aplikasi",fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},value:g||"",onChange:o=>p(o.target.value)}),e.jsxs(r,{container:!0,children:[e.jsxs(r,{item:!0,size:{xs:12,md:6},sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsx("img",{src:h||l||k,alt:"logo",style:{width:150,height:150,objectFit:"cover"}}),e.jsxs(f,{variant:"contained",component:"label",sx:{width:150},children:["Logo",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:U})]})]}),e.jsxs(r,{item:!0,size:{xs:12,md:6},sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsx("img",{src:w||m||k,alt:"cap",style:{width:150,height:150,objectFit:"cover"}}),e.jsxs(f,{variant:"contained",component:"label",sx:{width:150},children:["Cap",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:z})]})]})]}),e.jsxs(r,{item:!0,size:{xs:12},sx:{p:1,display:"flex",flexDirection:"column",alignItems:"center",gap:1},children:[e.jsx("img",{src:P||y||M,alt:"kop",style:{width:"100%",objectFit:"cover"}}),e.jsxs(f,{variant:"contained",component:"label",fullWidth:!0,children:["Kop Surat",e.jsx("input",{type:"file",hidden:!0,accept:"image/*",onChange:F})]})]}),e.jsx(A,{align:"end",children:e.jsx(f,{type:"submit",variant:"contained",color:"success",disabled:x,children:"Simpan"})})]})]})}),e.jsx(r,{item:!0,size:{xs:12,md:6},sx:{px:1},children:e.jsx(H,{})})]})})};export{J as default};

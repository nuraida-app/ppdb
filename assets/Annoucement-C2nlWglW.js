import{r as t,e as G,aP as H,aQ as W,aR as _,B as o,j as e,P as f,O as D,G as p,q as S,X as K,D as E,F,I as J,S as Q,M as i,T as R,t as q}from"./index-BCK7-2Jj.js";import{L as O}from"./Layout-TXE3UHjF.js";import{E as V}from"./Editor-BtaV3yeX.js";import{d as X}from"./EditOutlined-COa13Kq7.js";import{d as $}from"./DoNotDisturbOnOutlined-BqR-CXOf.js";import{T as N}from"./TableContainer-CRyOR1Ox.js";import{T as U}from"./Table-CmnEIh7z.js";import{T as Y}from"./TableHead-iCTDP9LG.js";import{T as L,a as l,b as Z}from"./TableRow-CZmMuvOG.js";import"./WhatsApp-Dspzgxwt.js";import"./index-CzwA4FCl.js";import"./quill.snow-D9sMdXGl.js";const ee=[{label:"Kategori",width:120},{label:"Judul",width:100},{label:"Konten",width:100},{label:"Aksi",width:120}],se=r=>({__html:r}),me=()=>{const[r,b]=t.useState(""),[d,c]=t.useState(""),[P,u]=t.useState(""),[x,h]=t.useState("--Pilih Kategori--"),{data:m}=G(),{data:a}=H(r,{skip:!r});console.log(a);const[w,{data:y,isSuccess:T,error:j,isLoading:I,reset:k}]=W(),[M,{data:v,isSuccess:C,error:g,isLoading:B}]=_(),A=()=>{w({category:x,value:P,id:r||null,title:d||null})},z=s=>{M({id:s,category:x})};return t.useEffect(()=>{a&&(u(a==null?void 0:a.teks),c(a!=null&&a.judul?a==null?void 0:a.judul:""),h(a==null?void 0:a.kategori))},[a]),t.useEffect(()=>{T&&(o.success(y.message),u(""),b(""),c(""),h("--Pilih Kategori--"),k()),j&&(k(),o.error(j.data.message))},[T,j,y]),t.useEffect(()=>{C&&o.success(v.message),g&&o.error(g.data.message)},[C,g,v]),e.jsxs(O,{children:[e.jsx(f,{sx:{p:1,mb:1},children:e.jsx(D,{variant:"h6",fontWeight:"bold",children:"Pengumuman"})}),e.jsxs(p,{container:!0,children:[e.jsx(p,{item:!0,size:{xs:12,md:8},children:e.jsx(f,{children:e.jsx(N,{children:e.jsxs(U,{children:[e.jsx(Y,{children:e.jsx(L,{children:ee.map((s,n)=>e.jsx(l,{align:"center",sx:{minWidth:s.width},children:s.label},n))})}),e.jsx(Z,{children:m==null?void 0:m.map((s,n)=>e.jsxs(L,{children:[e.jsx(l,{align:"center",sx:{verticalAlign:"top"},children:s.kategori}),e.jsx(l,{align:"center",sx:{verticalAlign:"top"},children:s.judul}),e.jsx(l,{children:e.jsx(S,{dangerouslySetInnerHTML:se(s.teks)})}),e.jsxs(l,{align:"center",children:[e.jsx(K,{color:"warning",onClick:()=>b(s.id),children:e.jsx(X,{})}),e.jsx(K,{color:"error",onClick:()=>z(s.id),children:B?e.jsx(E,{size:24}):e.jsx($,{})})]})]},n))})]})})})}),e.jsx(p,{item:!0,size:{xs:12,md:4},sx:{px:2},children:e.jsxs(f,{sx:{p:1},children:[e.jsxs(F,{fullWidth:!0,children:[e.jsx(J,{children:"Kategori"}),e.jsxs(Q,{label:"Kategori",value:x,onChange:s=>h(s.target.value),children:[e.jsx(i,{value:"--Pilih Kategori--",children:"--Pilih Kategori--"}),e.jsx(i,{value:"persyaratan",children:"Persyaratan"}),e.jsx(i,{value:"pengumuman",children:"Pengumuman"}),e.jsx(i,{value:"pembayaran",children:"Pembayaran"}),e.jsx(i,{value:"petunjuk",children:"Petunjuk"})]})]}),e.jsx(R,{fullWidth:!0,label:"Judul",placeholder:"Judul Berita",sx:{mb:1,mt:2},value:d,onChange:s=>c(s.target.value),slotProps:{inputLabel:{shrink:!0}}}),e.jsx(V,{placeholder:"Ketik Di Sini...",value:P,onChange:s=>u(s)}),e.jsx(S,{sx:{display:"flex",justifyContent:"end"},children:e.jsx(q,{variant:"contained",color:"success",onClick:A,children:I?e.jsx(E,{size:24}):"Simpan"})})]})})]})]})};export{me as default};

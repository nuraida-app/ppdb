import{bD as q,r as t,bH as z,bE as J,bG as V,B as l,j as e,P as Y,O as Z,$ as ee,k as R,l as E,X as ae,ag as se,M as j}from"./index-BCK7-2Jj.js";import{L as te}from"./Layout-TXE3UHjF.js";import{d as re}from"./MoreVert-B0UTvSLT.js";/* empty css               */import{L as I,d as L}from"./WhatsApp-Dspzgxwt.js";import{T as ne}from"./TableContainer-CRyOR1Ox.js";import{T as oe}from"./Table-CmnEIh7z.js";import{T as ce}from"./TableHead-iCTDP9LG.js";import{T as M,a as r,b as le}from"./TableRow-CZmMuvOG.js";import{T as ie}from"./TablePagination-BVYoJl9X.js";import"./KeyboardArrowRight-Pn1r0fDf.js";const de=[{label:"No",width:40},{label:"Kode Pendaftaran",width:80},{label:"Pendaftar",width:120},{label:"Whatsapp",width:120},{label:"Status",width:80},{label:"Aksi",width:30}],Ce=()=>{var _;const $=q(),[b,f]=t.useState(null),[i,A]=t.useState(""),[B,N]=t.useState(""),[w,H]=t.useState(""),[c,P]=t.useState(0),[o,W]=t.useState(10),d=!!b,D=(a,s,g)=>{f(a.currentTarget),A(s),N(g)},h=()=>{f(null)},[G,{data:C,isSuccess:T,error:p,reset:y}]=z(),[K,{data:k,isSuccess:v,error:u,reset:S}]=J(),{data:m}=V(),x=m==null?void 0:m.filter(a=>a.status_pendaftaran==="Ditolak"),n=x==null?void 0:x.filter(a=>a.kode_pendaftaran.toLowerCase().includes(w.toLowerCase())),O=()=>{G(i),h()},F=()=>{K(i),h()};t.useEffect(()=>{T&&(l.success(C.message),y()),p&&(l.error(p.data.message),y())},[C,T,p]),t.useEffect(()=>{v&&(l.success(k.message),S()),u&&(l.error(u.data.message),S())},[k,v,u]);const Q=(a,s)=>{P(s)},U=a=>{W(parseInt(a.target.value,10)),P(0)},X=()=>{const a=B.replace(/\s+/g,"-");$(`/admin/pelajar/${i}/${a}`)};return e.jsxs(te,{children:[e.jsxs(Y,{sx:{p:1},children:[e.jsx(Z,{variant:"h6",fontWeight:"bold",children:"Pendaftar"}),e.jsx(ee,{type:"text",placeholder:"Kode Pendaftaran",value:w,onChange:a=>H(a.target.value),sx:{my:1}}),e.jsx(ne,{children:e.jsxs(oe,{children:[e.jsx(ce,{children:e.jsx(M,{children:de.map((a,s)=>e.jsx(r,{align:"center",sx:{minWidth:a.width},children:a.label},s))})}),e.jsx(le,{children:(_=n==null?void 0:n.slice(c*o,c*o+o))==null?void 0:_.map((a,s)=>e.jsxs(M,{children:[e.jsx(r,{align:"center",children:c*o+s+1}),e.jsx(r,{align:"center",children:a.kode_pendaftaran}),e.jsx(r,{children:a.nama}),e.jsxs(r,{children:[e.jsxs(I,{onClick:()=>window.open(`https://wa.me/${a.tlp_ayah}`,"_blank"),children:[e.jsx(R,{children:e.jsx(L,{color:"success"})}),e.jsx(E,{primary:"Ayah",secondary:a.tlp_ayah})]}),e.jsxs(I,{onClick:()=>window.open(`https://wa.me/${a.tlp_ibu}`,"_blank"),children:[e.jsx(R,{children:e.jsx(L,{color:"success"})}),e.jsx(E,{primary:"ibu",secondary:a.tlp_ibu})]})]}),e.jsx(r,{align:"center",children:e.jsx("div",{className:"ditolak",children:a.status_pendaftaran})}),e.jsx(r,{align:"center",children:e.jsx(ae,{color:"primary",id:"basic-button","aria-controls":d?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:g=>D(g,a.userid,a.nama),children:e.jsx(re,{})})})]},s))})]})}),e.jsx(ie,{component:"div",count:(n==null?void 0:n.length)||0,page:c,onPageChange:Q,rowsPerPage:o,onRowsPerPageChange:U,rowsPerPageOptions:[10,25,50],labelRowsPerPage:"Rows per page"})]}),e.jsxs(se,{id:"basic-menu",anchorEl:b,open:d,onClose:h,MenuListProps:{"aria-labelledby":"basic-button"},children:[e.jsx(j,{onClick:O,children:"Diproses"}),e.jsx(j,{onClick:F,children:"Diterima"}),e.jsx(j,{onClick:X,children:"Detail"})]})]})};export{Ce as default};

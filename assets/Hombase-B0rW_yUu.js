import{r as a,R as k,al as v,am as B,an as G,B as t,j as e,G as u,P as T,z as x,d as y,J,C as M,ao as P}from"./index-C2nBX7QG.js";import{L as R}from"./Layout-C20c01LT.js";import{d as _}from"./Add-CmXcJvQH.js";import{d as w}from"./EditOutlined-dIVNS1oM.js";import{d as A}from"./DoNotDisturbOnOutlined-6U0CUkD-.js";import{T as D}from"./TableContainer-F9nuIoYK.js";import{T as N}from"./Table-D9-S9Xm5.js";import{T as Q}from"./TableHead-BKk-Fma7.js";import{T as C,a as n,b as $}from"./TableRow-BPe-Hqaj.js";const ee=()=>{const[r,m]=a.useState(""),[f,i]=a.useState(""),{data:o}=k(),{data:d}=v(r,{skip:!r}),[S,{data:j,isSuccess:p,isLoading:z,error:l,reset:h}]=B(),[H,{data:g,isSuccess:b,isLoading:W,error:c}]=G(),I=s=>{s.preventDefault(),S({name:f,id:r||null})},L=s=>{H(s)};return a.useEffect(()=>{p&&(t.success(j.message),i(""),m(""),h()),l&&(t.error(l.data.message),h())},[j,l,p]),a.useEffect(()=>{b&&t.success(g.message),c&&t.error(c.data.message)},[g,c,b]),a.useEffect(()=>{d&&i(d.nama)},[d]),e.jsx(R,{children:e.jsxs(u,{container:!0,children:[e.jsx(u,{item:!0,size:{xs:12,md:8},children:e.jsx(T,{children:e.jsx(D,{children:e.jsxs(N,{children:[e.jsx(Q,{children:e.jsx(C,{children:["No","Jenjang","Aksi"].map(s=>e.jsx(n,{align:"center",children:s},s))})}),e.jsx($,{children:o==null?void 0:o.map((s,E)=>e.jsxs(C,{children:[e.jsx(n,{align:"center",children:E+1}),e.jsx(n,{align:"center",children:s.nama}),e.jsxs(n,{align:"center",children:[e.jsx(x,{color:"warning",onClick:()=>m(s.id),children:e.jsx(w,{})}),e.jsx(x,{color:"error",onClick:()=>L(s.id),children:e.jsx(A,{})})]})]},s.id))})]})})})}),e.jsx(u,{item:!0,size:{xs:12,md:4},sx:{py:1,px:4},children:e.jsx(T,{sx:{p:1},children:e.jsx("form",{onSubmit:I,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[e.jsx(J,{fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:f||"",onChange:s=>i(s.target.value)}),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(x,{type:"submit",children:e.jsx(_,{})}),z&&e.jsx(M,{size:45,sx:{color:P[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{ee as default};

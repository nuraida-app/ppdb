import{r as a,ac as G,aL as I,aM as M,aN as P,B as i,j as e,G as u,P as y,X as m,D as Y,q as C,$ as w,aK as A}from"./index-CE7iUa9f.js";import{L as D}from"./Layout-BY6h5q2W.js";import{d as H}from"./Add-DZLHi6Cx.js";import{d as N}from"./EditOutlined-CqL6a_Q_.js";import{d as _}from"./DoNotDisturbOnOutlined-Xt-D0X5P.js";import{T as $}from"./TableContainer-BacHngwT.js";import{T as q}from"./Table-BDQ3_E0m.js";import{T as Q}from"./TableHead-CvJE00ii.js";import{T as E,a as n,b as R}from"./TableRow-BZTrN_G5.js";import"./WhatsApp-CncVOoah.js";const se=()=>{const[r,l]=a.useState(""),[p,o]=a.useState(""),{data:d}=G(),{data:t}=I(r,{skip:!r}),[L,{data:f,isSuccess:j,error:c,isLoading:S,reset:h}]=M(),[z,{data:g,isSuccess:b,error:x,isLoading:k}]=P(),v=s=>{s.preventDefault(),L({id:r||null,name:p})},B=s=>{z(s)};return a.useEffect(()=>{t&&(l(t.id),o(t.tapel))},[t]),a.useEffect(()=>{j&&(i.success(f.message),o(""),l(""),h()),c&&(i.error(c.data.message),h())},[f,c,j]),a.useEffect(()=>{b&&i.success(g.message),x&&i.error(x.data.message)},[g,x,b]),e.jsx(D,{children:e.jsxs(u,{container:!0,children:[e.jsx(u,{item:!0,size:{xs:12,md:8},children:e.jsx(y,{children:e.jsx($,{children:e.jsxs(q,{children:[e.jsx(Q,{children:e.jsx(E,{children:["No","Tahun Pelajaran","Aksi"].map(s=>e.jsx(n,{align:"center",children:s},s))})}),e.jsx(R,{children:d==null?void 0:d.map((s,T)=>e.jsxs(E,{children:[e.jsx(n,{align:"center",children:T+1}),e.jsx(n,{align:"center",children:s.tapel}),e.jsxs(n,{align:"center",children:[e.jsx(m,{color:"warning",onClick:()=>l(s.id),children:e.jsx(N,{})}),e.jsx(m,{color:"error",onClick:()=>B(s.id),children:k?e.jsx(Y,{size:24}):e.jsx(_,{})})]})]},s.id))})]})})})}),e.jsx(u,{item:!0,size:{xs:12,md:4},sx:{px:4},children:e.jsx(y,{sx:{p:1,position:"fixed",width:{md:300,lg:400,xl:400}},children:e.jsx("form",{onSubmit:v,children:e.jsxs(C,{sx:{display:"flex",gap:1},children:[e.jsx(w,{required:!0,fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:p||"",onChange:s=>o(s.target.value)}),e.jsxs(C,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(m,{type:"submit",color:"success",children:e.jsx(H,{})}),S&&e.jsx(Y,{size:45,sx:{color:A[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{se as default};

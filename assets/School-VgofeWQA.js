import{r as a,ae as z,aO as B,aP as G,aQ as P,B as o,j as e,G as x,P as T,X as u,q as y,$ as w,D,aK as H}from"./index-NerRiSST.js";import{L as M}from"./Layout-C0WGraNl.js";import{d as Q}from"./Add-Cy243xRG.js";import{d as _}from"./EditOutlined-BRTZdBuw.js";import{d as $}from"./DoNotDisturbOnOutlined-BMjr0qy8.js";import{T as A}from"./TableContainer-DCOMxebU.js";import{T as N}from"./Table-BzzLty94.js";import{T as R}from"./TableHead-D6xMeRiN.js";import{T as C,a as t,b as q}from"./TableRow-BWdoY684.js";import"./WhatsApp-CgpC9CtM.js";const se=()=>{const[r,m]=a.useState(""),[h,l]=a.useState(""),{data:i}=z(),{data:n}=B(r,{skip:!r}),[E,{data:f,isSuccess:p,isLoading:k,error:d,reset:j}]=G(),[I,{data:g,isSuccess:S,isLoading:J,error:c}]=P(),L=s=>{s.preventDefault(),E({name:h,id:r||null})},v=s=>{I(s)};return a.useEffect(()=>{p&&(o.success(f.message),l(""),m(""),j()),d&&(o.error(d.data.message),j())},[f,d,p]),a.useEffect(()=>{S&&o.success(g.message),c&&o.error(c.data.message)},[g,c,S]),a.useEffect(()=>{n&&l(n.nama)},[n]),e.jsx(M,{children:e.jsxs(x,{container:!0,children:[e.jsx(x,{item:!0,size:{xs:12,md:8},children:e.jsx(T,{children:e.jsx(A,{children:e.jsxs(N,{children:[e.jsx(R,{children:e.jsx(C,{children:["No","Sekolah","Aksi"].map(s=>e.jsx(t,{align:"center",children:s},s))})}),e.jsx(q,{children:i==null?void 0:i.map((s,b)=>e.jsxs(C,{children:[e.jsx(t,{align:"center",children:b+1}),e.jsx(t,{align:"center",children:s.nama}),e.jsxs(t,{align:"center",children:[e.jsx(u,{color:"warning",onClick:()=>m(s.id),children:e.jsx(_,{})}),e.jsx(u,{color:"error",onClick:()=>v(s.id),children:e.jsx($,{})})]})]},s.id))})]})})})}),e.jsx(x,{item:!0,size:{xs:12,md:4},sx:{py:1,px:4},children:e.jsx(T,{sx:{p:1,position:"fixed",width:{md:300,lg:400,xl:400}},children:e.jsx("form",{onSubmit:L,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[e.jsx(w,{fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:h||"",onChange:s=>l(s.target.value)}),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(u,{type:"submit",children:e.jsx(Q,{})}),k&&e.jsx(D,{size:45,sx:{color:H[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{se as default};

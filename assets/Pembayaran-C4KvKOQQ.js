import{r as a,N as g,O as y,B as m,j as e}from"./index-BU72W7iL.js";import{L as N}from"./Layout-BH6RVc04.js";import{T as k}from"./TableContainer-DJzRKzDr.js";const P=[{label:"No"},{label:"Nama"},{label:"Nominal"},{label:"Berkas"},{label:"Aksi"}],C=()=>{const[n,x]=a.useState(1),[c,b]=a.useState(10),[h,u]=a.useState(""),{data:t}=g({page:n,limit:c,search:h}),[j,{data:i,isSuccess:o,isLoading:L,error:r,reset:d}]=y(),f=s=>{window.open(s,"_blank")},p=s=>j(s);return a.useEffect(()=>{o&&(m.success(i.message),d()),r&&(m.error(r.data.message),d())},[i,o,r]),e.jsxs(N,{children:[e.jsx("div",{className:"container d-flex align-items-center justify-content-between mb-3",children:e.jsx("p",{className:"m-0 fw-bold",children:"Pembayaran"})}),e.jsx(k,{page:n,totalPages:t==null?void 0:t.totalPages,setPage:s=>x(s),setLimit:s=>b(s),onValue:s=>u(s),children:e.jsxs("table",{className:"table table-striped table-hover mt-2",children:[e.jsx("thead",{children:e.jsx("tr",{children:P.map((s,l)=>e.jsx("th",{scope:"col",className:"text-center",children:s.label},l))})}),e.jsx("tbody",{children:t==null?void 0:t.payments.map((s,l)=>e.jsxs("tr",{children:[e.jsx("th",{scope:"row",children:(n-1)*c+l+1}),e.jsx("td",{children:s.nama}),e.jsx("td",{children:`Rp ${parseFloat(s.nominal).toLocaleString("id-ID")}`}),e.jsx("td",{children:e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx("button",{className:"btn btn-secondary",onClick:()=>f(s.berkas),children:"Berkas"})})}),e.jsx("td",{children:e.jsx("div",{className:"d-flex align-items-center justify-content-center",children:e.jsx("button",{className:"btn btn-success me-2",disabled:!!s.ket,onClick:()=>p(s.user_id),children:"Konfirmasi"})})})]},s.id))})]})})]})};export{C as default};

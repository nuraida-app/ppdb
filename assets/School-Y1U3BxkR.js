import{r as a,U as v,as as B,at as G,au as H,B as o,j as e,G as x,P as T,z as u,d as y,J as M,C as P,ao as _}from"./index-C2nBX7QG.js";import{L as w}from"./Layout-C20c01LT.js";import{d as A}from"./Add-CmXcJvQH.js";import{d as D}from"./EditOutlined-dIVNS1oM.js";import{d as J}from"./DoNotDisturbOnOutlined-6U0CUkD-.js";import{T as N}from"./TableContainer-F9nuIoYK.js";import{T as Q}from"./Table-D9-S9Xm5.js";import{T as R}from"./TableHead-BKk-Fma7.js";import{T as C,a as t,b as $}from"./TableRow-BPe-Hqaj.js";const ee=()=>{const[r,h]=a.useState(""),[m,l]=a.useState(""),{data:i}=v(),{data:n}=B(r,{skip:!r}),[E,{data:f,isSuccess:j,isLoading:k,error:c,reset:p}]=G(),[z,{data:g,isSuccess:S,isLoading:U,error:d}]=H(),I=s=>{s.preventDefault(),E({name:m,id:r||null})},L=s=>{z(s)};return a.useEffect(()=>{j&&(o.success(f.message),l(""),h(""),p()),c&&(o.error(c.data.message),p())},[f,c,j]),a.useEffect(()=>{S&&o.success(g.message),d&&o.error(d.data.message)},[g,d,S]),a.useEffect(()=>{n&&l(n.nama)},[n]),e.jsx(w,{children:e.jsxs(x,{container:!0,children:[e.jsx(x,{item:!0,size:{xs:12,md:8},children:e.jsx(T,{children:e.jsx(N,{children:e.jsxs(Q,{children:[e.jsx(R,{children:e.jsx(C,{children:["No","Sekolah","Aksi"].map(s=>e.jsx(t,{align:"center",children:s},s))})}),e.jsx($,{children:i==null?void 0:i.map((s,b)=>e.jsxs(C,{children:[e.jsx(t,{align:"center",children:b+1}),e.jsx(t,{align:"center",children:s.nama}),e.jsxs(t,{align:"center",children:[e.jsx(u,{color:"warning",onClick:()=>h(s.id),children:e.jsx(D,{})}),e.jsx(u,{color:"error",onClick:()=>L(s.id),children:e.jsx(J,{})})]})]},s.id))})]})})})}),e.jsx(x,{item:!0,size:{xs:12,md:4},sx:{py:1,px:4},children:e.jsx(T,{sx:{p:1},children:e.jsx("form",{onSubmit:I,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[e.jsx(M,{fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:m||"",onChange:s=>l(s.target.value)}),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(u,{type:"submit",children:e.jsx(A,{})}),k&&e.jsx(P,{size:45,sx:{color:_[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{ee as default};

import{r as a,ad as k,aF as v,aG as z,aH as B,B as t,j as e,G as u,P as T,X as x,q as y,$ as D,D as M,aI as P}from"./index-BCK7-2Jj.js";import{L as _}from"./Layout-TXE3UHjF.js";import{d as $}from"./Add-DGQps12J.js";import{d as w}from"./EditOutlined-COa13Kq7.js";import{d as A}from"./DoNotDisturbOnOutlined-BqR-CXOf.js";import{T as J}from"./TableContainer-CRyOR1Ox.js";import{T as N}from"./Table-CmnEIh7z.js";import{T as Q}from"./TableHead-iCTDP9LG.js";import{T as C,a as n,b as R}from"./TableRow-CZmMuvOG.js";import"./WhatsApp-Dspzgxwt.js";const se=()=>{const[r,m]=a.useState(""),[f,i]=a.useState(""),{data:o}=k(),{data:d}=v(r,{skip:!r}),[H,{data:j,isSuccess:p,isLoading:I,error:l,reset:h}]=z(),[S,{data:g,isSuccess:b,isLoading:q,error:c}]=B(),G=s=>{s.preventDefault(),H({name:f,id:r||null})},L=s=>{S(s)};return a.useEffect(()=>{p&&(t.success(j.message),i(""),m(""),h()),l&&(t.error(l.data.message),h())},[j,l,p]),a.useEffect(()=>{b&&t.success(g.message),c&&t.error(c.data.message)},[g,c,b]),a.useEffect(()=>{d&&i(d.nama)},[d]),e.jsx(_,{children:e.jsxs(u,{container:!0,children:[e.jsx(u,{item:!0,size:{xs:12,md:8},children:e.jsx(T,{children:e.jsx(J,{children:e.jsxs(N,{children:[e.jsx(Q,{children:e.jsx(C,{children:["No","Jenjang","Aksi"].map(s=>e.jsx(n,{align:"center",children:s},s))})}),e.jsx(R,{children:o==null?void 0:o.map((s,E)=>e.jsxs(C,{children:[e.jsx(n,{align:"center",children:E+1}),e.jsx(n,{align:"center",children:s.nama}),e.jsxs(n,{align:"center",children:[e.jsx(x,{color:"warning",onClick:()=>m(s.id),children:e.jsx(w,{})}),e.jsx(x,{color:"error",onClick:()=>L(s.id),children:e.jsx(A,{})})]})]},s.id))})]})})})}),e.jsx(u,{item:!0,size:{xs:12,md:4},sx:{py:1,px:4},children:e.jsx(T,{sx:{p:1},children:e.jsx("form",{onSubmit:G,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[e.jsx(D,{fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:f||"",onChange:s=>i(s.target.value)}),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(x,{type:"submit",children:e.jsx($,{})}),I&&e.jsx(M,{size:45,sx:{color:P[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{se as default};

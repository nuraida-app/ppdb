import{r,a3 as G,bA as O,bB as W,bC as F,B as n,j as e,G as p,P as Q,X as S,D as k,F as L,I as A,S as E,M as a,T as H,t as z}from"./index-BCK7-2Jj.js";import{L as K}from"./Layout-TXE3UHjF.js";import{d as R}from"./EditOutlined-COa13Kq7.js";import{d as _}from"./DoNotDisturbOnOutlined-BqR-CXOf.js";import{T as X}from"./TableContainer-CRyOR1Ox.js";import{T as $}from"./Table-CmnEIh7z.js";import{T as N}from"./TableHead-iCTDP9LG.js";import{T as I,a as t,b as U}from"./TableRow-CZmMuvOG.js";import"./WhatsApp-Dspzgxwt.js";const ne=()=>{const[l,d]=r.useState(""),[m,o]=r.useState("pilih"),[g,c]=r.useState("pilih"),[f,u]=r.useState(""),{data:h}=G(),{data:i}=O(l,{skip:!l,refetchOnMountOrArgChange:!0}),[M,{data:b,isSuccess:T,isLoading:v,error:x,reset:y}]=W(),[B,{data:C,isSuccess:P,error:j,isLoading:J}]=F(),w=s=>{s.preventDefault(),M({id:l||null,type:m,question:f,input:g})},D=s=>B(s);return r.useEffect(()=>{T&&(n.success(b.message),o("pilih"),u(""),c("pilih"),d(""),y()),x&&(n.error(x.data.message),y())},[b,x,T]),r.useEffect(()=>{P&&n.success(C.message),j&&n.error(j.data.message)},[C,j,P]),r.useEffect(()=>{i&&(d(i==null?void 0:i.id),o(i==null?void 0:i.jenis),u(i==null?void 0:i.soal),c(i==null?void 0:i.pengisi))},[i]),e.jsx(K,{children:e.jsxs(p,{container:!0,children:[e.jsx(p,{item:!0,size:{xs:12,md:7},children:e.jsx(Q,{sx:{p:1,mx:1},children:e.jsx(X,{children:e.jsxs($,{children:[e.jsx(N,{children:e.jsx(I,{children:["Jenis","Pengisi","Pertanyaan","Aksi"].map(s=>e.jsx(t,{align:"center",children:s},s))})}),e.jsx(U,{children:h==null?void 0:h.map(s=>e.jsxs(I,{children:[e.jsx(t,{align:"center",style:{maxWidth:100},children:s.jenis}),e.jsx(t,{children:s.pengisi}),e.jsx(t,{children:s.soal}),e.jsxs(t,{align:"center",style:{width:150},children:[e.jsx(S,{color:"warning",onClick:()=>d(s.id),children:e.jsx(R,{})}),e.jsx(S,{color:"error",onClick:()=>D(s.id),children:J?e.jsx(k,{size:24}):e.jsx(_,{})})]})]},s.id))})]})})})}),e.jsx(p,{item:!0,size:{xs:12,md:5},children:e.jsx(Q,{sx:{p:1,mx:1},children:e.jsxs("form",{style:{display:"flex",flexDirection:"column",gap:"1rem"},onSubmit:w,children:[e.jsxs(L,{fullWidth:!0,children:[e.jsx(A,{children:"Jenis"}),e.jsxs(E,{value:m||"",onChange:s=>o(s.target.value),label:"Jenis",required:!0,children:[e.jsx(a,{value:"pilih",children:"--Pilih Jenis--"}),e.jsx(a,{value:"Kuisioner",children:"Kuisioner"}),e.jsx(a,{value:"Angket",children:"Angket"})]})]}),e.jsxs(L,{fullWidth:!0,children:[e.jsx(A,{children:"Pengisi"}),e.jsxs(E,{value:g||"",onChange:s=>c(s.target.value),label:"Jenis",required:!0,children:[e.jsx(a,{value:"pilih",children:"--Pilih Pengisi--"}),e.jsx(a,{value:"Ortu",children:"Orang Tua"}),e.jsx(a,{value:"Tholibah",children:"Calon Tholibah"})]})]}),e.jsx(H,{label:"Pertanyaan",placeholder:"Pertanyaan",multiline:!0,rows:6,fullWidth:!0,slotProps:{inputLabel:{shrink:!0}},value:f||"",onChange:s=>u(s.target.value)}),e.jsx(z,{variant:"contained",color:"success",type:"submit",disabled:v,children:v?e.jsx(k,{size:24}):"simpan"})]})})})]})})};export{ne as default};

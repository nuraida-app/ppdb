import{r as a,ad as v,aH as z,aI as B,aJ as G,B as t,j as e,G as u,P as T,X as x,q as y,$ as D,D as J,aK as M}from"./index-ptVWyzqq.js";import{L as P}from"./Layout-8rPJRVNh.js";import{d as _}from"./Add-BWhOjPM4.js";import{d as $}from"./EditOutlined-CQTp9b6e.js";import{d as w}from"./DoNotDisturbOnOutlined-Cx6WShQM.js";import{T as A}from"./TableContainer-DvT8E7Np.js";import{T as N}from"./Table-B3F95sbF.js";import{T as Q}from"./TableHead-BLp_PiE7.js";import{T as C,a as n,b as R}from"./TableRow-DnCyyA8q.js";import"./WhatsApp-DyDDWVRW.js";const se=()=>{const[r,m]=a.useState(""),[f,i]=a.useState(""),{data:o}=v(),{data:d}=z(r,{skip:!r}),[H,{data:j,isSuccess:p,isLoading:I,error:l,reset:h}]=B(),[S,{data:g,isSuccess:b,isLoading:q,error:c}]=G(),L=s=>{s.preventDefault(),H({name:f,id:r||null})},k=s=>{S(s)};return a.useEffect(()=>{p&&(t.success(j.message),i(""),m(""),h()),l&&(t.error(l.data.message),h())},[j,l,p]),a.useEffect(()=>{b&&t.success(g.message),c&&t.error(c.data.message)},[g,c,b]),a.useEffect(()=>{d&&i(d.nama)},[d]),e.jsx(P,{children:e.jsxs(u,{container:!0,children:[e.jsx(u,{item:!0,size:{xs:12,md:8},children:e.jsx(T,{children:e.jsx(A,{children:e.jsxs(N,{children:[e.jsx(Q,{children:e.jsx(C,{children:["No","Jenjang","Aksi"].map(s=>e.jsx(n,{align:"center",children:s},s))})}),e.jsx(R,{children:o==null?void 0:o.map((s,E)=>e.jsxs(C,{children:[e.jsx(n,{align:"center",children:E+1}),e.jsx(n,{align:"center",children:s.nama}),e.jsxs(n,{align:"center",children:[e.jsx(x,{color:"warning",onClick:()=>m(s.id),children:e.jsx($,{})}),e.jsx(x,{color:"error",onClick:()=>k(s.id),children:e.jsx(w,{})})]})]},s.id))})]})})})}),e.jsx(u,{item:!0,size:{xs:12,md:4},sx:{py:1,px:4},children:e.jsx(T,{sx:{p:1},children:e.jsx("form",{onSubmit:L,children:e.jsxs(y,{sx:{display:"flex",gap:1},children:[e.jsx(D,{fullWidth:!0,type:"text",placeholder:"Tambah Jenjang",value:f||"",onChange:s=>i(s.target.value)}),e.jsxs(y,{sx:{position:"relative",display:"inline-flex"},children:[e.jsx(x,{type:"submit",children:e.jsx(_,{})}),I&&e.jsx(J,{size:45,sx:{color:M[500],position:"absolute",top:-2.5,left:-2,transform:"translate(-50%, -50%)",zIndex:1}})]})]})})})})]})})};export{se as default};

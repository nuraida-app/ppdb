import{r,aD as N,aE as z,aF as D,B as l,j as e,P as G,s as J,J as O,z as Q,W as U,M as i}from"./index-C2nBX7QG.js";import{L as q}from"./Layout-C20c01LT.js";import{d as V}from"./MoreVert-CqDQYK64.js";/* empty css               */import{T as X}from"./TableContainer-F9nuIoYK.js";import{T as Y}from"./Table-D9-S9Xm5.js";import{T as Z}from"./TableHead-BKk-Fma7.js";import{T as y,a as n,b as $}from"./TableRow-BPe-Hqaj.js";import{T as ee}from"./TablePagination-CEIneJeT.js";const ae=[{label:"No",width:40},{label:"Kode Pendaftaran",width:80},{label:"Pendaftar",width:120},{label:"Asal Sekolah",width:120},{label:"Status",width:80},{label:"Aksi",width:30}],ue=()=>{var v;const[x,j]=r.useState(null),[f,E]=r.useState(""),[b,M]=r.useState(""),[c,P]=r.useState(0),[o,I]=r.useState(10),d=!!x,_=(a,s)=>{j(a.currentTarget),E(s)},u=()=>{j(null)},[B,{data:w,isSuccess:T,error:h,reset:C}]=N(),[L,{data:S,isSuccess:k,error:p,reset:R}]=z(),{data:g}=D(),m=g==null?void 0:g.filter(a=>a.status_pendaftaran==="Menunggu"),t=m==null?void 0:m.filter(a=>a.kode_pendaftaran.toLowerCase().includes(b.toLowerCase())),A=()=>{B(f),u()},H=()=>{L(f),u()};r.useEffect(()=>{T&&(l.success(w.message),C()),h&&(l.error(h.data.message),C())},[w,T,h]),r.useEffect(()=>{k&&(l.success(S.message),R()),p&&(l.error(p.data.message),R())},[S,k,p]);const W=(a,s)=>{P(s)},F=a=>{I(parseInt(a.target.value,10)),P(0)};return e.jsxs(q,{children:[e.jsxs(G,{sx:{p:1},children:[e.jsx(J,{variant:"h6",fontWeight:"bold",children:"Pendaftar"}),e.jsx(O,{type:"text",placeholder:"Kode Pendaftaran",value:b,onChange:a=>M(a.target.value),sx:{my:1}}),e.jsx(X,{children:e.jsxs(Y,{children:[e.jsx(Z,{children:e.jsx(y,{children:ae.map((a,s)=>e.jsx(n,{align:"center",sx:{minWidth:a.width},children:a.label},s))})}),e.jsx($,{children:(v=t==null?void 0:t.slice(c*o,c*o+o))==null?void 0:v.map((a,s)=>e.jsxs(y,{children:[e.jsx(n,{align:"center",children:c*o+s+1}),e.jsx(n,{align:"center",children:a.kode_pendaftaran}),e.jsx(n,{children:a.nama}),e.jsx(n,{children:a.nama_sekolah}),e.jsx(n,{align:"center",children:e.jsx("div",{className:"menunggu",children:a.status_pendaftaran})}),e.jsx(n,{align:"center",children:e.jsx(Q,{color:"primary",id:"basic-button","aria-controls":d?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":d?"true":void 0,onClick:K=>_(K,a.userid),children:e.jsx(V,{})})})]},s))})]})}),e.jsx(ee,{component:"div",count:(t==null?void 0:t.length)||0,page:c,onPageChange:W,rowsPerPage:o,onRowsPerPageChange:F,rowsPerPageOptions:[10,25,50],labelRowsPerPage:"Rows per page"})]}),e.jsxs(U,{id:"basic-menu",anchorEl:x,open:d,onClose:u,MenuListProps:{"aria-labelledby":"basic-button"},children:[e.jsx(i,{onClick:A,children:"Diterima"}),e.jsx(i,{onClick:H,children:"Ditolak"}),e.jsx(i,{children:"Berkas"}),e.jsx(i,{children:"Detail"})]})]})};export{ue as default};
